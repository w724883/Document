## 时间线

- 1997年http1.1协议被采用

- 2009年chrome开发出SPDY协议，效率比http1.1更高

- 2015年http组织以SPDY为基础开发http2.0

## 1.1和2.0

- 2.0协议采用二进制格式传输，解析效率更高，1.1采用文本协议传输

- 2.0采用HPACK对消息头进行压缩，1.1携带大量头信息占用带宽

HPACK使请求头部数据与表一一映射，如果是新的数据表中不存在则缓存，如果是表中已存在的数据则仅需发送对应的索引位置符，另外还会对头部的字符串进行编码压缩

- 在2.0一个TCP连接能多路复用并发传输请求，在1.1一个TCP连接不能并发传输多个链路只能按顺序逐个传输

一条连接上拼接了多个请求的数据实现了多路并发

- 2.0支持流的优先级，浏览器告诉服务端哪个流优先级更高，服务器会优先发送这个流

- 2.0可以通过发送RST_STREAM帧中止传输，重新发送请求数据，1.1需要切断整个TCP连接重新三次握手才能实现数据重新发送，成本比较高

- 2.0能主动的将客户端想要的资源预先推送给客户端，需要客户端显式的允许服务器提供该功能，如果不需要客户端可以通过发送一个RST_STREAM帧中止

当客户端从服务器获取返回后，服务器想给客户端推送数据，首先会客户端发送一个状态告知客户端要有数据要发送，让客户端准备接受放在缓存中



## 文档

[https://ye11ow.gitbooks.io/http2-explained/content/part6.html](https://ye11ow.gitbooks.io/http2-explained/content/part6.html)
