- xss

通过在页面拼接js代码，如

```html
<a href="/user/1"><script>alert(1)</script></a>

<img src="javascript:alert('XSS');" onerror="alert(1)">

<script>var user_data = {"exploit": "</script><script>alert(1);//"};</script>

<INPUT type="text" value='><SCRIPT>alert("XSS")</SCRIPT><xssa=''/>

<BODY onload="alert('XSS')">

<link rel="stylesheet" href="javascript：alert('XSS');">

<div style="width:expression(alert('XSS'));">
```

解决：

1.在合适的地方使用转义

2.不要相信来自用户的输入，过滤（不仅限于 POST Body，还包括 QueryString，甚至是 Headers）

- csrf

跨域伪造请求，使用户做出非本意的行为

1.通过代理发送请求

2.通过form表单提交请求

解决：

1.给所有请求加上 token 检查。token是随机字符串，只需确保其不可预测性即可。token 可以在 QueryString、POST body 甚至是 Custom Header 里，但千万不能在 Cookies 里。

检查 referer （请注意，这往往不能防御来自网站自身的 CSRF 攻击，如用户评论中的 <img> 就是一个常见触发点），ajax请求也能修改referer

- SQL 注入

通过在后端拼接sql代码，如

```sql
SELECT * FROM USERS WHERE UserName="";DROP TABLE USERS;--"
```

解决：

1.使用参数化查询，把所有变量作为参数，数据库不会将参数作为SQL指令处理

2.使用预编译

3.过滤变量中的指令

- 流量劫持

链接免费wifi时，路由器提供一个特殊的dns服务，将所有的域名都解析到我们的电脑，并将wifi的dhcp-dns设置为电脑ip，其实就是抓包的原理。

我们可以拿到明文数据包，并且对数据包进行加工，比如插入脚本。


- 权限控制漏洞

后端代码不严谨，没有做校验


- 会话劫持

SESSION 与 COOKIE泄漏，导致其他用户得到与服务器的会话权限

